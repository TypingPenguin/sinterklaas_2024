import{a as D,t as M}from"../chunks/disclose-version.CKiPHcIW.js";import"../chunks/legacy.DGs14_q-.js";import{b as be,h as C,c as we,Q as ye,_ as pe,H as ke,d as ne,s as U,e as V,f as L,a2 as B,r as me,a as _e,p as Ae,I as le,a3 as ie,a4 as Ee,Z as Ie,a5 as Ne,D as Se,G as Te,F as Ce,W as $e,M as Oe,O as He,a6 as P,a7 as j,a0 as Re,a8 as oe,a9 as he,aa as De,ab as Me,U as Ge,w as Le,y as Z,z as ze,ac as Be,l as y,C as O,A as T,B as N,a1 as z,ad as fe}from"../chunks/runtime.AfJ8BW7s.js";import{s as Je,e as q,b as ce,a as K}from"../chunks/store.DnvQdzSI.js";import{i as Q}from"../chunks/if.Ba3y4DhM.js";import{i as Ye}from"../chunks/lifecycle.2vzrAzia.js";import{w as ge,g as ue}from"../chunks/index.DWVAQ0F-.js";function W(a,e){return e}function Fe(a,e,t,s){for(var o=[],n=e.length,c=0;c<n;c++)Ee(e[c].e,o,!0);var p=n>0&&o.length===0&&t!==null;if(p){var k=t.parentNode;Ie(k),k.append(t),s.clear(),H(a,e[0].prev,e[n-1].next)}Ne(o,()=>{for(var g=0;g<n;g++){var v=e[g];p||(s.delete(v.k),H(a,v.prev,v.next)),Se(v.e,!p)}})}function X(a,e,t,s,o,n=null){var c=a,p={flags:e,items:new Map,first:null},k=(e&he)!==0;if(k){var g=a;c=C?U(Te(g)):g.appendChild(Ce())}C&&we();var v=null,A=!1;be(()=>{var l=t(),u=ye(l)?l:l==null?[]:pe(l),f=u.length;if(A&&f===0)return;A=f===0;let E=!1;if(C){var x=c.data===ke;x!==(f===0)&&(c=ne(),U(c),V(!1),E=!0)}if(C){for(var m=null,b,_=0;_<f;_++){if(L.nodeType===8&&L.data===$e){c=L,E=!0,V(!1);break}var i=u[_],r=s(i,_);b=xe(L,p,m,null,i,r,_,o,e),p.items.set(r,b),m=b}f>0&&U(ne())}if(!C){var d=Oe;Ue(u,p,c,o,e,(d.f&B)!==0,s)}n!==null&&(f===0?v?me(v):v=_e(()=>n(c)):v!==null&&Ae(v,()=>{v=null})),E&&V(!0),t()}),C&&(c=L)}function Ue(a,e,t,s,o,n,c){var ee,te,ae,se;var p=(o&De)!==0,k=(o&(P|j))!==0,g=a.length,v=e.items,A=e.first,l=A,u,f=null,E,x=[],m=[],b,_,i,r;if(p)for(r=0;r<g;r+=1)b=a[r],_=c(b,r),i=v.get(_),i!==void 0&&((ee=i.a)==null||ee.measure(),(E??(E=new Set)).add(i));for(r=0;r<g;r+=1){if(b=a[r],_=c(b,r),i=v.get(_),i===void 0){var d=l?l.e.nodes_start:t;f=xe(d,e,f,f===null?e.first:f.next,b,_,r,s,o),v.set(_,f),x=[],m=[],l=f.next;continue}if(k&&Ve(i,b,r,o),i.e.f&B&&(me(i.e),p&&((te=i.a)==null||te.unfix(),(E??(E=new Set)).delete(i))),i!==l){if(u!==void 0&&u.has(i)){if(x.length<m.length){var h=m[0],w;f=h.prev;var R=x[0],S=x[x.length-1];for(w=0;w<x.length;w+=1)ve(x[w],h,t);for(w=0;w<m.length;w+=1)u.delete(m[w]);H(e,R.prev,S.next),H(e,f,R),H(e,S,h),l=h,f=S,r-=1,x=[],m=[]}else u.delete(i),ve(i,l,t),H(e,i.prev,i.next),H(e,i,f===null?e.first:f.next),H(e,f,i),f=i;continue}for(x=[],m=[];l!==null&&l.k!==_;)(n||!(l.e.f&B))&&(u??(u=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;i=l}x.push(i),f=i,l=i.next}if(l!==null||u!==void 0){for(var I=u===void 0?[]:pe(u);l!==null;)(n||!(l.e.f&B))&&I.push(l),l=l.next;var $=I.length;if($>0){var F=o&he&&g===0?t:null;if(p){for(r=0;r<$;r+=1)(ae=I[r].a)==null||ae.measure();for(r=0;r<$;r+=1)(se=I[r].a)==null||se.fix()}Fe(e,I,F,v)}}p&&He(()=>{var re;if(E!==void 0)for(i of E)(re=i.a)==null||re.apply()}),le.first=e.first&&e.first.e,le.last=f&&f.e}function Ve(a,e,t,s){s&P&&ie(a.v,e),s&j?ie(a.i,t):a.i=t}function xe(a,e,t,s,o,n,c,p,k){var g=(k&P)!==0,v=(k&Me)===0,A=g?v?Re(o):oe(o):o,l=k&j?oe(c):c,u={i:l,v:A,k:n,a:null,e:null,prev:t,next:s};try{return u.e=_e(()=>p(a,A,l),C),u.e.prev=t&&t.e,u.e.next=s&&s.e,t===null?e.first=u:(t.next=u,t.e.next=u.e),s!==null&&(s.prev=u,s.e.prev=u.e),u}finally{}}function ve(a,e,t){for(var s=a.next?a.next.e.nodes_start:t,o=e?e.e.nodes_start:t,n=a.e.nodes_start;n!==s;){var c=Ge(n);o.before(n),n=c}}function H(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Ze(a,e){var t=a.__className,s=qe(e);C&&a.className===s?a.__className=s:(t!==s||C&&a.className!==s)&&(e==null?a.removeAttribute("class"):a.className=s,a.__className=s)}function qe(a){return a??""}const G="buanderie",de=localStorage.getItem("attempts"),Ke=localStorage.getItem("locked"),J=ge(de?JSON.parse(de):[]),Y=ge(Ke==="true");J.subscribe(a=>localStorage.setItem("attempts",JSON.stringify(a)));Y.subscribe(a=>localStorage.setItem("locked",JSON.stringify(a)));function Qe(a,e){const t=[],s=e.split("");return a.split("").forEach((o,n)=>{o===s[n]?(t.push({letter:o,status:"correct"}),s[n]=null):s.includes(o)?(t.push({letter:o,status:"present"}),s[s.indexOf(o)]=null):t.push({letter:o,status:"absent"})}),t}var We=M(`<div class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 svelte-18nf8t8"><div class="bg-white p-6 rounded-lg shadow-lg max-w-xs sm:max-w-md"><h2 class="text-lg font-bold mb-4">Rules</h2> <p class="text-gray-700 text-sm sm:text-base">You have 6 attempts to guess the correct word in French. After 6 failed attempts, the game will
						lock, and the location of the gift will no longer be discoverable. Good luck!</p> <button class="mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Close</button></div></div>`),Xe=M("<span> </span>"),Pe=M('<div class="flex justify-center gap-1 sm:gap-2"></div>'),je=M('<span class="w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center border border-gray-400 rounded text-sm sm:text-lg uppercase"> </span>'),et=M('<div class="flex justify-center gap-1 sm:gap-2"></div>'),tt=M('<p class="mt-6 text-sm sm:text-lg text-gray-800 text-center">Game Over!</p>'),at=M('<main class="min-h-screen flex flex-col items-center bg-gray-100 py-6 px-4 sm:px-6"><h1 class="text-2xl sm:text-3xl font-bold text-gray-800 mb-6 text-center">Sint-ordle</h1> <div class="mb-4 flex items-center gap-2"><button class="text-sm font-medium text-blue-600 underline hover:text-blue-800">Information</button> <!></div> <p class="mb-4 text-gray-600 text-sm sm:text-base">Attempts: <span class="font-bold"> </span></p> <section class="space-y-4"><!> <!></section> <!></main>');function ct(a,e){Le(e,!1);const t=Je(),s=()=>ce(J,"$attempts",t),o=()=>ce(Y,"$locked",t);let n=fe(""),c=6,p=fe(!1);function k(r){const d=r.key;ue(Y)||(d==="Enter"&&y(n).length===G.length?g():d==="Backspace"?z(n,y(n).slice(0,-1)):/^[a-zA-Z]$/.test(d)&&y(n).length<G.length&&z(n,y(n)+d.toLowerCase()))}function g(){const r=ue(J);if(y(n).length===G.length){const d=Qe(y(n),G);J.update(h=>[...h,{guess:y(n),feedback:d}]),(y(n)===G||r.length+1>=c)&&Y.set(!0),z(n,"")}}Ye();var v=at();q("keydown",Be,k);var A=O(T(v),2),l=T(A),u=O(l,2);Q(u,()=>y(p),r=>{var d=We(),h=T(d),w=O(T(h),4);N(h),N(d),q("click",w,()=>z(p,!1)),D(r,d)}),N(A);var f=O(A,2),E=O(T(f)),x=T(E);N(E),N(f);var m=O(f,2),b=T(m);X(b,1,s,W,(r,d)=>{var h=Pe();X(h,5,()=>y(d).feedback,W,(w,R)=>{let S=()=>y(R).letter,I=()=>y(R).status;var $=Xe(),F=T($,!0);N($),Z(()=>{Ze($,`w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center border rounded text-sm sm:text-lg font-semibold uppercase
                        ${(I()==="correct"?"bg-green-500 text-white":"")??""}
                        ${(I()==="present"?"bg-yellow-500 text-white":"")??""}
                        ${(I()==="absent"?"bg-gray-300 text-gray-800":"")??""}`),K(F,S())}),D(w,$)}),N(h),D(r,h)});var _=O(b,2);Q(_,()=>s().length<c&&!o(),r=>{var d=et();X(d,5,()=>Array(G.length),W,(h,w,R)=>{var S=je(),I=T(S,!0);N(S),Z(()=>K(I,y(n)[R]||"")),D(h,S)}),N(d),D(r,d)}),N(m);var i=O(m,2);Q(i,o,r=>{var d=tt();D(r,d)}),N(v),Z(()=>K(x,`${s().length??""} / ${c}`)),q("click",l,()=>z(p,!0)),D(a,v),ze()}export{ct as component};
